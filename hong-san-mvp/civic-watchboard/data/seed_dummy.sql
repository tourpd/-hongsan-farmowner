-- =========================================
-- civicwatch.db 더미 데이터 주입(정책카드/추이/예산 검증용)
-- 실행: sqlite3 data/civicwatch.db < data/seed_dummy.sql
-- =========================================

BEGIN;

-- bids 테이블이 없다면 생성(스키마 최소)
CREATE TABLE IF NOT EXISTS bids (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  bidNtceNo TEXT NOT NULL,
  bidNtceOrd TEXT NOT NULL,
  bidNtceDt TEXT,
  bidNtceNm TEXT,
  ntceInsttNm TEXT,
  dminsttNm TEXT,
  bidMethdNm TEXT,
  cntrctCnclsMthdNm TEXT,
  refNo TEXT,
  ntceInsttCd TEXT,
  dminsttCd TEXT,
  bids_scope TEXT DEFAULT 'OTHER',
  src_month TEXT,
  budget INTEGER DEFAULT 0,
  created_at TEXT DEFAULT (datetime('now')),
  UNIQUE(bidNtceNo, bidNtceOrd)
);

-- 기존 더미만 지우고 싶으면 주석 해제
-- DELETE FROM bids WHERE bidNtceNo LIKE 'DUMMY%';

-- -----------------------------------------
-- 더미 데이터 30건: 2022-07 ~ 2026-02 분산
-- + 정책카드 분류/추이/예산 합계 검증용 budget 포함
-- -----------------------------------------

INSERT OR REPLACE INTO bids
(bidNtceNo, bidNtceOrd, bidNtceDt, bidNtceNm, ntceInsttNm, bids_scope, src_month, budget)
VALUES
-- 2022-07
('DUMMY-202207-001','0','2022-07-05 10:00:00','대곡역 환승센터 연계버스 노선 조정 용역','경기도 고양시','CITY','202207', 180000000),
('DUMMY-202207-002','0','2022-07-18 14:10:00','광역교통 연계 환승체계 개선 타당성조사(대곡권역)','경기도 고양시 덕양구','CITY','202207', 420000000),
('DUMMY-202207-003','0','2022-07-22 09:30:00','일산호수공원 가로수 정비 용역','경기도 고양시','CITY','202207', 150000000),

-- 2023-01
('DUMMY-202301-001','0','2023-01-03 11:20:00','GTX 연계 대곡역 환승동선 안내체계 구축(기본계획)','경기도 고양시','CITY','202301', 360000000),
('DUMMY-202301-002','0','2023-01-11 15:40:00','대곡역 환승센터 버스승강장 시설개선공사','고양시 일산서구청','CITY','202301', 1200000000),
('DUMMY-202301-003','0','2023-01-25 16:05:00','성사육교 정밀안전진단 용역','경기도 고양시','CITY','202301', 220000000),

-- 2023-07
('DUMMY-202307-001','0','2023-07-06 10:05:00','광역교통 환승체계(대곡권역) 개선 실행계획 수립','경기도 고양시','CITY','202307', 480000000),
('DUMMY-202307-002','0','2023-07-14 09:10:00','대곡역 환승센터 연계도로 교통신호 운영개선 용역','경기도 고양시','CITY','202307', 260000000),
('DUMMY-202307-003','0','2023-07-28 13:55:00','덕양구 하수관로 정비사업(2차) 실시설계','경기도 고양시 덕양구','CITY','202307', 900000000),

-- 2024-01
('DUMMY-202401-001','0','2024-01-02 11:01:00','(가격입찰)2024년 고양시 교통신호 운영관리 용역(대곡권역 포함)','경기도 고양시','CITY','202401', 1100000000),
('DUMMY-202401-002','0','2024-01-08 10:20:00','대곡역 환승센터 주변 보행환경 개선공사','경기도 고양시','CITY','202401', 1500000000),
('DUMMY-202401-003','0','2024-01-12 09:30:00','창릉천 수계 소규모 준설사업 장비임차용역','경기도 고양시','CITY','202401', 340000000),
('DUMMY-202401-004','0','2024-01-18 14:00:00','고양공원 환경개선사업 실시설계 용역','경기도 고양시','CITY','202401', 210000000),
('DUMMY-202401-005','0','2024-01-22 16:20:00','대곡역 연계 광역버스 승강장 캐노피 설치','경기도 고양시','CITY','202401', 780000000),
('DUMMY-202401-006','0','2024-01-31 18:20:12','상수도 유지관리 공사 폐기물처리용역(덕양구)','경기도 고양시 덕양구','CITY','202401', 160000000),

-- 2024-07
('DUMMY-202407-001','0','2024-07-04 09:00:00','GTX 연계 대곡역 환승센터 운영개선 용역(2차)','경기도 고양시','CITY','202407', 520000000),
('DUMMY-202407-002','0','2024-07-09 15:30:00','대곡역 환승센터 버스정보안내(BIT) 구축','경기도 고양시','CITY','202407', 950000000),
('DUMMY-202407-003','0','2024-07-19 10:10:00','도로(소로) 확포장공사 실시설계(대곡 인근)','경기도 고양시','CITY','202407', 430000000),

-- 2025-01
('DUMMY-202501-001','0','2025-01-06 11:10:00','광역교통 연계 환승요금 정산체계 컨설팅','경기도 고양시','CITY','202501', 300000000),
('DUMMY-202501-002','0','2025-01-15 16:40:00','대곡역 환승센터 버스승강장 유지보수','경기도 고양시','CITY','202501', 420000000),
('DUMMY-202501-003','0','2025-01-24 09:50:00','덕양구 도시공원 임목폐기물 처리 연간단가','경기도 고양시 덕양구','CITY','202501', 180000000),

-- 2025-07
('DUMMY-202507-001','0','2025-07-02 10:00:00','대곡역 환승센터 연계 보행교 설치 타당성조사','경기도 고양시','CITY','202507', 520000000),
('DUMMY-202507-002','0','2025-07-10 14:25:00','교량 정기안전점검 용역(대곡권역 포함)','경기도 고양시','CITY','202507', 190000000),
('DUMMY-202507-003','0','2025-07-28 12:00:00','문화행사(박람회) 셔틀버스 연계 운영 용역','재단법인 고양문화재단','OTHER','202507', 230000000),

-- 2026-01
('DUMMY-202601-001','0','2026-01-05 09:10:00','GTX 연계 대곡역 환승센터 확장 기본구상','경기도 고양시','CITY','202601', 650000000),
('DUMMY-202601-002','0','2026-01-13 15:00:00','대곡역 환승센터 광역버스 정류장 재배치 용역','경기도 고양시','CITY','202601', 320000000),
('DUMMY-202601-003','0','2026-01-21 11:40:00','상수도 급수관로 GIS 탐사 용역','경기도 고양시','CITY','202601', 240000000),

-- 2026-02
('DUMMY-202602-001','0','2026-02-03 10:30:00','대곡역 환승체계(연계버스) 운영평가 용역','경기도 고양시','CITY','202602', 280000000),
('DUMMY-202602-002','0','2026-02-12 09:00:00','교통신호 운영 고도화(광역교통 연계)','경기도 고양시','CITY','202602', 420000000),
('DUMMY-202602-003','0','2026-02-25 14:00:00','폐기물 처리용역(도로공사 부산물)','경기도 고양시','CITY','202602', 160000000);

COMMIT;

-- 결과 확인
SELECT 'TOTAL' AS k, COUNT(*) AS v FROM bids;
SELECT 'MIN_DT' AS k, MIN(bidNtceDt) AS v FROM bids;
SELECT 'MAX_DT' AS k, MAX(bidNtceDt) AS v FROM bids;
SELECT 'SUM_BUDGET' AS k, SUM(budget) AS v FROM bids;